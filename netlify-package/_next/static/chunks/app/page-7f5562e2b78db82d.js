(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5101:function(e,s,t){Promise.resolve().then(t.bind(t,9392))},9392:function(e,s,t){"use strict";t.d(s,{default:function(){return k}});var a=t(7437),l=t(2265),r=t(1268),c=t(5217);let i=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M20 11H4C3.4 11 3 11.4 3 12C3 12.6 3.4 13 4 13H20C20.6 13 21 12.6 21 12C21 11.4 20.6 11 20 11ZM4 8H20C20.6 8 21 7.6 21 7C21 6.4 20.6 6 20 6H4C3.4 6 3 6.4 3 7C3 7.6 3.4 8 4 8ZM20 16H4C3.4 16 3 16.4 3 17C3 17.6 3.4 18 4 18H20C20.6 18 21 17.6 21 17C21 16.4 20.6 16 20 16Z",fill:"currentColor"})})},n=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})})},d=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM16 13H8C7.45 13 7 12.55 7 12C7 11.45 7.45 11 8 11H16C16.55 11 17 11.45 17 12C17 12.55 16.55 13 16 13Z",fill:"currentColor"})})},m=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M17 5V3H7V5H3V21H21V5H17ZM7 19H5V7H7V19ZM11 19H9V7H11V19ZM15 19H13V7H15V19ZM19 19H17V7H19V19Z",fill:"currentColor"})})},x=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z",fill:"currentColor"})})},o=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z",fill:"currentColor"})})},h=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})})},j=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("svg",{className:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M20 11H7.83L13.42 5.41L12 4L4 12L12 20L13.41 18.59L7.83 13H20V11Z",fill:"currentColor"})})},g=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("img",{src:"/icons/男厕位.png",alt:"男厕位",className:s})},p=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("img",{src:"/icons/女厕位.png",alt:"女厕位",className:s})},N=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("img",{src:"/icons/第三卫生间.png",alt:"第三卫生间",className:s})},f=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("img",{src:"/icons/紧急呼叫按钮.png",alt:"紧急呼叫按钮",className:s})},b=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("img",{src:"/icons/扶手.png",alt:"扶手",className:s})},u=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("img",{src:"/icons/助行器.png",alt:"助行器",className:s})},v=e=>{let{className:s="w-6 h-6"}=e;return(0,a.jsx)("img",{src:"/icons/坡道.png",alt:"坡道",className:s})};function w(e){let{isOpen:s,onClose:t,children:l}=e;return s?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-white","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"sticky top-0 z-50 bg-white border-b",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,a.jsxs)("button",{type:"button",onClick:t,className:"flex items-center justify-center text-gray-400 hover:text-gray-500 focus:outline-none",children:[(0,a.jsx)("span",{className:"sr-only",children:"返回"}),(0,a.jsx)(j,{className:"w-6 h-6"})]}),(0,a.jsx)("h3",{className:"text-base font-medium",children:"发布评论"}),(0,a.jsx)("div",{className:"w-6"})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:l})]})}):null}function y(e){let{rating:s,onRatingChange:t}=e;return(0,a.jsx)("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>t(e),className:"text-2xl ".concat(s>=e?"text-orange-400":"text-gray-300"," cursor-pointer"),children:"★"},e))})}function C(e){let{isOpen:s,onClose:t}=e;return((0,l.useEffect)(()=>{if(s){let e=setTimeout(()=>{t()},2e3);return()=>clearTimeout(e)}},[s,t]),s)?(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/30",children:(0,a.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-xl transform transition-all duration-300 ease-in-out",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:(0,a.jsx)(r.G,{icon:c.LEp,className:"text-green-500 text-3xl animate-[bounce_1s_ease-in-out]"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"评论成功"}),(0,a.jsx)("p",{className:"text-gray-600",children:"感谢您的评论"})]})})}):null}function H(e){let{onReviewAdded:s,bathroom:t}=e,[r,c]=(0,l.useState)({content:"",rating:3,tags:[],bathroomId:(null==t?void 0:t.id)||""}),[j,g]=(0,l.useState)(null),[p,N]=(0,l.useState)(!1),[f,b]=(0,l.useState)(""),[u,v]=(0,l.useState)(!1),w=async e=>{e.preventDefault(),N(!0),b("");try{let e=await fetch("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await e.json();if(!e.ok)throw Error(a.error||"提交点评失败");v(!0),c({content:"",rating:3,tags:[],bathroomId:(null==t?void 0:t.id)||""}),s&&a.review&&s(a.review)}catch(e){b(e.message||"提交点评时出错")}finally{N(!1)}},H=e=>{c(s=>({...s,tags:s.tags.includes(e)?s.tags.filter(s=>s!==e):[...s.tags,e]}))};return(0,a.jsxs)("div",{className:"bg-white h-full flex flex-col rounded-lg shadow-sm p-4",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"评分"}),(0,a.jsx)("div",{className:"flex items-center mb-4",children:(0,a.jsx)(y,{rating:r.rating,onRatingChange:e=>c(s=>({...s,rating:e}))})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"选择标签"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[{text:"环境整洁",icon:i},{text:"服务到位",icon:n},{text:"没有异味",icon:d},{text:"卫生干净",icon:m},{text:"位置好找",icon:x}].map(e=>{let{text:s,icon:t}=e;return(0,a.jsxs)("button",{type:"button",onClick:()=>H(s),className:"px-3 py-1.5 rounded-full text-sm transition-colors flex items-center gap-1 ".concat(r.tags.includes(s)?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,a.jsx)(t,{className:"w-4 h-4"}),s]},s)})})]}),(0,a.jsx)("form",{onSubmit:w,className:"flex-1 flex flex-col",children:(0,a.jsxs)("div",{className:"p-4",children:[f&&(0,a.jsx)("div",{className:"bg-red-50 text-red-500 p-3 rounded-md mb-4",children:f}),(0,a.jsx)(C,{isOpen:u,onClose:()=>v(!1)}),(0,a.jsx)("div",{className:"flex-1 mb-3 min-h-[200px]",children:(0,a.jsx)("textarea",{id:"content",name:"content",value:r.content,onChange:e=>{let{name:s,value:t}=e.target;c(e=>({...e,[s]:t}))},placeholder:"写下您的感受，分享给更多的人。若有设施损坏情况，您也可以在此说明，感谢您的分享",className:"w-full h-[180px] border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary text-base",required:!0})}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("label",{className:"flex items-center justify-center w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary-500 transition-colors",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files[0];if(s){let e=new FileReader;e.onloadend=()=>{g(e.result)},e.readAsDataURL(s)}},className:"hidden"}),(0,a.jsx)(o,{className:"text-gray-400 w-6 h-6"})]}),j&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:j,alt:"Selected",className:"w-20 h-20 object-cover rounded-lg"}),(0,a.jsx)("button",{type:"button",onClick:()=>{g(null)},className:"absolute -top-2 -right-2 bg-white rounded-full p-1 shadow-md",children:(0,a.jsx)(h,{className:"text-gray-500 w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("label",{className:"flex items-center text-sm text-gray-600",children:[(0,a.jsx)("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-primary rounded border-gray-300",checked:r.needsRepair,onChange:e=>c(s=>({...s,needsRepair:e.target.checked}))}),(0,a.jsx)("span",{className:"ml-2",children:"是否有损坏需要报修"})]})}),(0,a.jsx)("button",{type:"submit",disabled:p,className:"w-full py-3 rounded-lg text-white font-medium transition-colors ".concat(p?"bg-primary-300":"bg-primary hover:bg-primary-600"),children:p?"提交中...":"提交评论"})]})})]})}function L(e){let{bathroomId:s}=e,[t,r]=(0,l.useState)([]),[c,i]=(0,l.useState)(!0),[n,d]=(0,l.useState)("");(0,l.useEffect)(()=>{m()},[s]);let m=async()=>{try{i(!0);let e=s?"/api/reviews?bathroomId=".concat(s):"/api/reviews",t=await fetch(e);if(!t.ok)throw Error("获取点评失败");let a=await t.json();r(a.reviews||[])}catch(e){d("获取点评时出错"),console.error(e)}finally{i(!1)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)(H,{onReviewAdded:e=>{r(s=>[e,...s])},bathroom:{id:s}}),c?(0,a.jsx)("div",{className:"flex justify-center items-center py-6",children:(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"})}):n?(0,a.jsx)("div",{className:"bg-red-50 text-red-500 p-4 rounded-md",children:n}):(0,a.jsx)("div",{className:"space-y-4",children:t.length>0?(0,a.jsx)("div",{className:"grid gap-4",children:t.map(e=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.date||new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(s=>(0,a.jsx)("span",{className:"text-lg ".concat(e.rating>=s?"text-orange-400":"text-gray-300"),children:"★"},s))})]}),e.tags&&e.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:e.tags.map((e,s)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-primary/10 text-primary-600 text-sm rounded-full",children:e},s))}),(0,a.jsx)("p",{className:"text-gray-700",children:e.content})]},e._id))}):(0,a.jsx)("div",{className:"text-center text-gray-500 py-8",children:"暂无点评，快来添加第一条点评吧！"})})]})}function k(e){let{bathroom:s}=e,[t,i]=(0,l.useState)(!1),[n,d]=(0,l.useState)({avgRating:0,count:0}),[m,x]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{x(!0);try{let e=await fetch("/api/reviews");if(!e.ok)throw Error("Failed to fetch reviews");let s=await e.json();if(s.reviews&&s.reviews.length>0){let e=(s.reviews.reduce((e,s)=>e+s.rating,0)/s.reviews.length).toFixed(1);d({avgRating:e,count:s.reviews.length})}}catch(e){console.error("Error fetching review stats:",e),d({avgRating:4.5,count:32})}finally{x(!1)}})()},[]),console.log("特色设施数组:",s.facilities.specialFeatures),(0,a.jsx)("div",{className:"animate-fade-in relative",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("header",{className:"bg-primary-600 text-white p-4 sm:p-6 rounded-t-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold leading-tight",children:s.name}),(0,a.jsx)("div",{className:"px-3 py-1 bg-accent-400 rounded-full text-xs sm:text-sm font-medium",children:s.grade})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm sm:text-base",children:[(0,a.jsx)(r.G,{icon:c.FGq,className:"h-4 w-4"}),(0,a.jsx)("p",{children:s.location})]})]}),(0,a.jsx)("section",{className:"card shadow-card overflow-hidden",children:(0,a.jsxs)("div",{className:"w-full h-56 sm:h-64 md:h-72 lg:h-80 relative",children:[(0,a.jsx)("img",{src:"/images/bathroom.jpg",alt:s.name,className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/1200x800?text=公厕图片"}}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(r.G,{icon:c.Tab,className:"text-yellow-400 mr-1"}),m?(0,a.jsx)("span",{className:"text-white font-medium",children:"加载中..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"text-white font-medium",children:[n.avgRating," 分"]}),(0,a.jsxs)("span",{className:"text-white/80 text-sm ml-2",children:["(",n.count," 条评价)"]})]})]})})]})}),(0,a.jsxs)("section",{className:"card shadow-card",children:[(0,a.jsxs)("h2",{className:"section-title flex items-center",children:[(0,a.jsx)(r.G,{icon:c.sqG,className:"mr-2 text-primary-500"}),"基础信息"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"info-label",children:"公厕编号"}),(0,a.jsx)("p",{className:"info-value font-medium",children:s.code||"无"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"info-label",children:"开放时间"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.G,{icon:c.SZw,className:"text-primary-400"}),(0,a.jsx)("p",{className:"info-value font-medium",children:s.openingHours})]})]})]})]}),(0,a.jsxs)("section",{className:"card shadow-card",children:[(0,a.jsxs)("h2",{className:"section-title flex items-center",children:[(0,a.jsx)(g,{className:"mr-2 text-primary-500 w-6 h-6"}),"设施设备"]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-3 text-sm sm:text-base",children:"基础配置"}),(0,a.jsx)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mb-4",children:(0,a.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,a.jsxs)("div",{className:"flex gap-1 min-w-max",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-card p-3 flex items-center min-w-18",children:[(0,a.jsx)("div",{className:"relative mr-3",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-50 rounded-full",children:(0,a.jsx)(g,{className:"w-8 h-8"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs mb-1",children:"男厕位"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-primary-600",children:[s.facilities.maleCount," ",(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"位"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-card p-3 flex items-center min-w-18",children:[(0,a.jsx)("div",{className:"relative mr-3",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-pink-50 rounded-full",children:(0,a.jsx)(p,{className:"w-8 h-8"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs mb-1",children:"女厕位"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-primary-600",children:[s.facilities.femaleCount," ",(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"位"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-card p-3 flex items-center min-w-18",children:[(0,a.jsx)("div",{className:"relative mr-3",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 bg-green-50 rounded-full",children:(0,a.jsx)(N,{className:"w-8 h-8"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs mb-1",children:"第三卫生间"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-primary-600",children:[s.facilities.thirdCount," ",(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"位"})]})]})]})]})})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,a.jsxs)("div",{className:"flex gap-4 min-w-max p-1",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center bg-gray-50 border border-gray-100 rounded-lg p-3 shadow-sm min-w-18",children:[(0,a.jsx)("div",{className:"text-primary-500 text-2xl mb-2",children:(0,a.jsx)("img",{src:"/icons/洗手台.png",alt:"洗手台",className:"w-8 h-8 object-contain"})}),(0,a.jsx)("span",{className:"text-sm text-center",children:"洗手台"})]}),s.facilities.basicFeatures.map((e,s)=>{let t="";return"感应冲水"===e?t="/icons/感应冲水.png":"冷热水"===e||"洗手台"===e?t="/icons/冷热水.png":"镜子"===e?t="/icons/镜子.png":"烘手机"===e?t="/icons/烘手机.png":(console.log("未匹配的基础设施:",e),t="/icons/洗手台.png"),(0,a.jsxs)("div",{className:"flex flex-col items-center bg-gray-50 border border-gray-100 rounded-lg p-3 shadow-sm min-w-18",children:[(0,a.jsx)("div",{className:"text-primary-500 text-2xl mb-2",children:(0,a.jsx)("img",{src:t,alt:e,className:"w-8 h-8 object-contain"})}),(0,a.jsx)("span",{className:"text-sm text-center",children:e})]},s)})]})})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"无障碍设施"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.facilities.accessibilityFeatures.map((e,s)=>{let t;return"无障碍坡道"===e||"坡道"===e?t=(0,a.jsx)(v,{className:"w-4 h-4 mr-1"}):"安全扶手"===e||"扶手"===e?t=(0,a.jsx)(b,{className:"w-4 h-4 mr-1"}):"紧急呼叫按钮"===e||"紧急呼叫"===e?t=(0,a.jsx)(f,{className:"w-4 h-4 mr-1"}):"助行器"===e?t=(0,a.jsx)(u,{className:"w-4 h-4 mr-1"}):"高低位洗手台"===e?t=(0,a.jsx)("img",{src:"/icons/高低位洗手台.png",alt:"高低位洗手台",className:"w-4 h-4 mr-1 object-contain"}):(console.log("未匹配的无障碍设施:",e),t=(0,a.jsx)(b,{className:"w-4 h-4 mr-1"})),(0,a.jsxs)("div",{className:"tag bg-secondary-50 text-secondary-700",children:[t,(0,a.jsx)("span",{className:"text-sm",children:e})]},s)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"特色设施"}),(0,a.jsx)("div",{className:"overflow-x-auto pb-2",children:(0,a.jsx)("div",{className:"flex gap-2 min-w-max",children:s.facilities.specialFeatures.map((e,s)=>{let t="",l="bg-accent-50",r="border border-accent-100";return"尿布台"===e?(t="/icons/尿布台.png",l="bg-accent-50",r="border border-accent-100"):"一次性儿童坐垫"===e?(t="/icons/一次性儿童坐垫.png",l="bg-blue-50",r="border border-blue-100"):"儿童专用设施"===e?(t="/icons/儿童专用设施.png",l="bg-blue-50",r="border border-blue-100"):"高低位洗手台"===e?(t="/icons/高低位洗手台.png",l="bg-primary-50",r="border border-primary-100"):"语音播报提醒"===e?(t="/icons/语音播报提醒.png",l="bg-secondary-50",r="border border-secondary-100"):"助行器"===e?(t="/icons/助行器.png",l="bg-secondary-50",r="border border-secondary-100"):e.includes("婴儿")?(t="/icons/婴儿座椅1.png",l="bg-accent-50",r="border border-accent-100"):(console.log("未匹配的设施:",e),t="/icons/洗手台.png",l="bg-gray-50",r="border border-gray-100"),(0,a.jsxs)("div",{className:"flex flex-col items-center ".concat(l," ").concat(r," rounded-lg p-2 shadow-sm min-w-[100px]"),children:[(0,a.jsx)("div",{className:"mb-1 w-8 h-8 flex items-center justify-center",children:t?(0,a.jsx)("img",{src:t,alt:e,className:"w-8 h-8 object-contain"}):(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-gray-400",children:"?"})}),(0,a.jsx)("span",{className:"text-xs text-center",children:e})]},s)})})})]})]}),(0,a.jsxs)("section",{className:"card shadow-card",children:[(0,a.jsxs)("h2",{className:"section-title flex items-center",children:[(0,a.jsx)(r.G,{icon:c.Hi6,className:"mr-2 text-primary-500"}),"服务信息"]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"收费标准"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.G,{icon:c.CvI,className:"text-accent-500"}),(0,a.jsx)("p",{className:"text-sm",children:s.services.fee})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"便民服务"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.services.amenities.map((e,s)=>(0,a.jsx)("div",{className:"tag bg-primary-50 text-primary-700",children:e},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"导向标识"}),(0,a.jsx)("p",{className:"text-sm",children:s.services.signage})]})]}),(0,a.jsxs)("section",{className:"card shadow-card",children:[(0,a.jsxs)("h2",{className:"section-title flex items-center",children:[(0,a.jsx)(r.G,{icon:c.P88,className:"mr-2 text-primary-500"}),"管理维护"]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"管理单位"}),(0,a.jsx)("p",{className:"text-sm",children:s.management.unit})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"清洁记录"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.G,{icon:c.xTf,className:"text-secondary-500"}),(0,a.jsx)("p",{className:"text-sm",children:s.management.cleaningSchedule})]})]})]}),(0,a.jsxs)("section",{className:"card shadow-card",children:[(0,a.jsxs)("h2",{className:"section-title flex items-center",children:[(0,a.jsx)(r.G,{icon:c.sqG,className:"mr-2 text-primary-500"}),"其他信息"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"开放日期"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.G,{icon:c.Ry6,className:"text-primary-400"}),(0,a.jsx)("p",{className:"text-sm",children:s.otherInfo.openDate})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"最近翻新"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.G,{icon:c.P88,className:"text-secondary-500"}),(0,a.jsx)("p",{className:"text-sm",children:s.otherInfo.lastRenovation})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"获奖情况"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.G,{icon:c.Tab,className:"text-accent-500"}),(0,a.jsx)("p",{className:"text-sm",children:s.otherInfo.awards})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700 mb-2 text-sm sm:text-base",children:"周边环境"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.G,{icon:c.tLL,className:"text-primary-500"}),(0,a.jsx)("p",{className:"text-sm",children:s.otherInfo.surroundings})]})]})]}),(0,a.jsx)("section",{className:"card shadow-card",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"section-title flex items-center",children:[(0,a.jsx)(r.G,{icon:c.Tab,className:"mr-2 text-primary-500"}),"用户点评"]}),(0,a.jsx)("button",{onClick:()=>{i(!0)},className:"text-primary-600 hover:text-primary-700 font-medium",children:"查看点评"})]})}),(0,a.jsx)(w,{isOpen:t,onClose:()=>{i(!1)},children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"用户点评"}),(0,a.jsx)(L,{})]})})]})})}}},function(e){e.O(0,[676,268,971,117,744],function(){return e(e.s=5101)}),_N_E=e.O()}]);